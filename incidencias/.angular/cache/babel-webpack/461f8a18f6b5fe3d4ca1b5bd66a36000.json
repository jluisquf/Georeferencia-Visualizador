{"ast":null,"code":"import * as L from 'leaflet';\nimport 'leaflet.markercluster';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/map.service\";\nconst _c0 = [\"mapClustering\"];\nexport let MapasSemaforosCallesCerradasComponent = /*#__PURE__*/(() => {\n  class MapasSemaforosCallesCerradasComponent {\n    constructor(mapService) {\n      this.mapService = mapService;\n      this.time = {\n        hour: 0,\n        minute: 2,\n        second: 0\n      }; //TIMEPICKER\n\n      this.lista = [\"\"]; //agrupa todos los lugares con incidencias\n\n      this.mapServiceU = mapService;\n    }\n\n    ngAfterViewInit() {\n      //Obtenemos de manera dinamica los lugares a mostrar en el input select\n      this.mapServiceU.getCities().subscribe(data => {\n        this.lista = Object.values(data);\n      });\n      var mymap = L.map('mapid').setView([19.37596, -99.07000], 12);\n      L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {\n        maxZoom: 18,\n        attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, ' + '<a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, ' + 'Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n        id: 'mapbox/streets-v11'\n      }).addTo(mymap); //function animate(){ INICIO DE LA PELICULA\n\n      let Icon = L.icon({\n        iconUrl: '../.././assets/trafficlight.png',\n        iconSize: [20, 20],\n        iconAnchor: [22, 20],\n        popupAnchor: [-3, -76]\n      });\n      this.mapServiceU.getSemaforoizt().subscribe(data => {\n        let marker;\n\n        for (let i = 0; i < data.semaforo.length; i++) {\n          marker = L.marker([data.semaforo[i].latitud, data.semaforo[i].longitud], {\n            icon: Icon\n          }).addTo(mymap).bindPopup(\"Hola.\");\n        }\n      });\n      this.mapServiceU.getSemaforoizc().subscribe(data => {\n        let marker;\n\n        for (let i = 0; i < data.semaforo.length; i++) {\n          marker = L.marker([data.semaforo[i].latitud, data.semaforo[i].longitud], {\n            icon: Icon\n          }).addTo(mymap).bindPopup(\"Hola2\");\n        }\n      });\n      this.mapServiceU.getSemaforomh().subscribe(data => {\n        let marker;\n\n        for (let i = 0; i < data.semaforo.length; i++) {\n          marker = L.marker([data.semaforo[i].latitud, data.semaforo[i].longitud], {\n            icon: Icon\n          }).addTo(mymap).bindPopup(\"Hola3\");\n        }\n      });\n    } //FIN OnInit\n\n\n  }\n\n  MapasSemaforosCallesCerradasComponent.ɵfac = function MapasSemaforosCallesCerradasComponent_Factory(t) {\n    return new (t || MapasSemaforosCallesCerradasComponent)(i0.ɵɵdirectiveInject(i1.MapService));\n  };\n\n  MapasSemaforosCallesCerradasComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MapasSemaforosCallesCerradasComponent,\n    selectors: [[\"app-mapas-semaforos-calles-cerradas\"]],\n    viewQuery: function MapasSemaforosCallesCerradasComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.mapContainer = _t.first);\n      }\n    },\n    decls: 7,\n    vars: 0,\n    consts: [[1, \"container\", \"text-center\"], [1, \"row\"], [1, \"col\"], [1, \"card\"], [1, \"fas\", \"fa-chart-area\"], [\"id\", \"mapid\", 1, \"card-body\"]],\n    template: function MapasSemaforosCallesCerradasComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelement(4, \"i\", 4);\n        i0.ɵɵtext(5, \" Trafico y Semaforos \");\n        i0.ɵɵelement(6, \"div\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n    },\n    styles: [\".form-check-input[_ngcontent-%COMP%], .form-check-label[_ngcontent-%COMP%]{margin-right:.5em}.form[_ngcontent-%COMP%]{margin-left:1em}.formStructure[_ngcontent-%COMP%]{display:inline-block;border:.3rem solid gray;padding:1em}.map-container[_ngcontent-%COMP%]{top:0;left:0;right:0;bottom:0;margin:30px}.map-frame[_ngcontent-%COMP%]{border:2px solid black;height:200px;width:300px}#map[_ngcontent-%COMP%], #mapClustering[_ngcontent-%COMP%], #mapTrafico[_ngcontent-%COMP%]{height:50%}#mapid[_ngcontent-%COMP%], #mapid2[_ngcontent-%COMP%], #mapid3[_ngcontent-%COMP%], #mapid4[_ngcontent-%COMP%], #mapid5[_ngcontent-%COMP%], #map[_ngcontent-%COMP%], #mapClustering[_ngcontent-%COMP%], #mapTrafico[_ngcontent-%COMP%], #mapDenso[_ngcontent-%COMP%]{height:70vh;margin:0;padding:20px}#mapClustering[_ngcontent-%COMP%]{display:block;height:60vh;margin:0;padding:20px}.container.text-center[_ngcontent-%COMP%]{margin-top:70px}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#4caf50;background-clip:border-box;border:1px solid rgba(0,0,0,.125);color:#fff;font-family:\\\"Lucida Sans\\\",\\\"Lucida Sans Regular\\\",\\\"Lucida Grande\\\",\\\"Lucida Sans Unicode\\\",Geneva,Verdana,sans-serif;font-size:20px;border-radius:.25rem}.card-header[_ngcontent-%COMP%]{padding:.75rem 1.25rem;margin-bottom:0;background-color:#00000008;border-bottom:1px solid rgba(0,0,0,.125)}.card-header[_ngcontent-%COMP%]:first-child{border-radius:calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0}.card-header[_ngcontent-%COMP%] + .list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:first-child{border-top:0}.mr-1[_ngcontent-%COMP%], .mx-1[_ngcontent-%COMP%]{margin-right:.25rem!important}.mb-4[_ngcontent-%COMP%], .my-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}\"]\n  });\n  return MapasSemaforosCallesCerradasComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}