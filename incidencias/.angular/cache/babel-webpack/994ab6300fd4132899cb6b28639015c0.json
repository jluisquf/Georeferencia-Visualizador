{"ast":null,"code":"import * as L from 'leaflet';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/map.service\";\nexport let MapaCallesReportadasComponent = /*#__PURE__*/(() => {\n  class MapaCallesReportadasComponent {\n    constructor(mapService) {\n      this.mapService = mapService;\n      this.mapServiceU = mapService;\n    }\n\n    ngOnInit() {\n      let mapid2;\n    }\n\n    ngAfterViewInit() {\n      //Called after ngAfterContentInit when the component's view has been initialized. Applies to components only.\n      //Add 'implements AfterViewInit' to the class.\n      var mymap2 = L.map('mapid2').setView([19.37596, -99.07000], 12);\n      L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {\n        maxZoom: 18,\n        attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, ' + '<a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, ' + 'Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n        id: 'mapbox/streets-v11'\n      }).addTo(mymap2);\n      this.mapServiceU.getCallesCerradas().subscribe(data => {\n        let marker;\n        let marker2;\n        let Icon1 = L.icon({\n          iconUrl: '../.././assets/accesdenied.png',\n          iconSize: [20, 20],\n          iconAnchor: [22, 20],\n          popupAnchor: [-3, -76]\n        });\n        let Icon2 = L.icon({\n          iconUrl: '../.././assets/construction.png',\n          iconSize: [20, 20],\n          iconAnchor: [22, 20],\n          popupAnchor: [-3, -76]\n        });\n\n        for (let i = 0; i < data[0].jams.length; i++) {\n          const opcionesPopUp = L.popup() //Funcion de leaflet\n          .setContent(`<p><b>Alcaldia:</b> ${data[0].jams[i].city}</p>\n            <p> <b>Calle:</b>  ${data[0].jams[i].street}</p>\n            `);\n\n          if (data[0].jams[i].blockType == \"ROAD_CLOSED_EVENT\") {\n            marker = L.marker([data[0].jams[i].line[0].y, data[0].jams[i].line[0].x], {\n              icon: Icon1\n            }).addTo(mymap2).bindPopup(opcionesPopUp);\n          } else if (data[0].jams[i].blockType == \"ROAD_CLOSED_CONSTRUCTION\") {\n            marker2 = L.marker([data[0].jams[i].line[0].y, data[0].jams[i].line[0].x], {\n              icon: Icon1\n            }).addTo(mymap2).bindPopup(opcionesPopUp);\n          }\n        }\n      });\n    } //fin ng After View\n\n\n  }\n\n  MapaCallesReportadasComponent.ɵfac = function MapaCallesReportadasComponent_Factory(t) {\n    return new (t || MapaCallesReportadasComponent)(i0.ɵɵdirectiveInject(i1.MapService));\n  };\n\n  MapaCallesReportadasComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MapaCallesReportadasComponent,\n    selectors: [[\"app-mapa-calles-reportadas\"]],\n    decls: 6,\n    vars: 0,\n    consts: [[1, \"container\", \"text-center\"], [1, \"col\"], [1, \"card\"], [\"id\", \"mapid2\", 1, \"card-body\"]],\n    template: function MapaCallesReportadasComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"h1\");\n        i0.ɵɵtext(4, \"Calles que se reportan cerradas\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(5, \"div\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n    },\n    styles: [\".leaflet-cluster-anim[_ngcontent-%COMP%]   .leaflet-marker-icon[_ngcontent-%COMP%], .leaflet-cluster-anim[_ngcontent-%COMP%]   .leaflet-marker-shadow[_ngcontent-%COMP%]{transition:transform .3s ease-out,opacity .3s ease-in}.leaflet-cluster-spider-leg[_ngcontent-%COMP%]{transition:stroke-dashoffset .3s ease-out,stroke-opacity .3s ease-in}.form-check-input[_ngcontent-%COMP%], .form-check-label[_ngcontent-%COMP%]{margin-right:.5em}#mapid2[_ngcontent-%COMP%]{height:70vh;margin:0;padding:400px}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#4caf50;background-clip:border-box;border:1px solid rgba(0,0,0,.125);color:#fff;font-family:\\\"Lucida Sans\\\",\\\"Lucida Sans Regular\\\",\\\"Lucida Grande\\\",\\\"Lucida Sans Unicode\\\",Geneva,Verdana,sans-serif;font-size:20px;border-radius:.25rem}.mb-4[_ngcontent-%COMP%], .my-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important;margin-left:150px}.container.text-center[_ngcontent-%COMP%]{margin-top:70px}\"]\n  });\n  return MapaCallesReportadasComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}